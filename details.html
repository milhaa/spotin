<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>التفاصيل - SpotN</title>

    <!-- ======== FONTS ======================== -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Relief:wght@400;700&family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- ======== LINK CSS	 ======================== -->
    <link rel="stylesheet" href="css/style.css">

    <!-- ======== FAVICON	 ======================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/site.webmanifest">
    <link rel="mask-icon" href="img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">


    <!-- Styles -->
    <style>
        :root {
            --clr1: #ffffff;
            --clr2: #3a3b3c;
            --clr3: #032d70;
            --clr4: #ff8057;
            --clr5: #D9D9D9;
            --clr6: #fefbf5;
            --crl7: #00bfa6;
            --crl8: #f6b100;
            --crl9: #ef476f;
        }

        .location-link {
            color: inherit;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }

        .location-link:hover {
            color: #007bff;
        }

        /* Styles for cafe number with pink color */
        .cafe-number {
            background-color: var(--crl9) !important;
            color: white;
        }

        .restaurant-number {
            background-color: var(--crl8);
            color: white;
        }

        .place-number {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 20px;
        }

        .menu-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .menu-btn:hover {
            background-color: #0056b3;
            text-decoration: none;
            color: white;
        }

        .menu-btn:visited {
            color: white;
        }

        .contact-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .contact-item svg {
            margin-left: 10px;
            fill: var(--clr3);
        }

        .contact-link {
            color: var(--clr3);
            text-decoration: none;
        }

        .contact-link:hover {
            text-decoration: underline;
        }
        /* إضافة هذا CSS للأيقونة */
        .place-icon {
            position: absolute;
            top: 20px;
            right: 10px;
            transform: translateX(-20px);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Tablet responsive */
        @media (max-width: 768px) {
            .place-icon {
                top: 15px;
                right: 8px;
                transform: translateX(-15px);
                width: 40px;
                height: 40px;
            }
        }

        /* Mobile responsive */
        @media (max-width: 480px) {
            .place-icon {
                top: 10px;
                right: 5px;
                transform: translateX(-10px);
                width: 35px;
                height: 35px;
            }
        }


    </style>
</head>

<body>
<div class="wrapper">
    <header class="header">
        <div class="container">
            <div class="header__inner">
                <a href="/" class="header__logo">
                    <img src="img/spotn-logo-en.png" alt="img" class="header__logo--img img">
                </a>

                <nav class="menu">
                    <ul class="menu__list">
                        <li class="menu__item">
                            <a href="index.html" class="menu__link">المطاعم و الكافيهات</a>
                        </li>

                        <li class="menu__item">
                            <a href="index.html#map" class="menu__link">الخريطة</a>
                        </li>
                    </ul>
                </nav>

                <div class="header__button">
                    <a id="sign-up-btn" href="#popup-sign" class="header__btn popup-link">تسجيل الدخول</a>
                </div>

                <div class="header__burger">
                    <span></span>
                </div>
                <!-- to make the burger header works -->
                <script>document.addEventListener('DOMContentLoaded', function() {
                    const burger = document.querySelector('.header__burger');
                    const menu = document.querySelector('.menu');

                    if (burger && menu) {
                        burger.addEventListener('click', function() {
                            // Toggle active class on burger
                            burger.classList.toggle('active');
                            // Toggle active class on menu
                            menu.classList.toggle('active');

                            console.log('Burger clicked!'); // For debugging
                        });

                        // Close menu when clicking on a menu link
                        const menuLinks = document.querySelectorAll('.menu__link');
                        menuLinks.forEach(link => {
                            link.addEventListener('click', function() {
                                burger.classList.remove('active');
                                menu.classList.remove('active');
                            });
                        });
                    } else {
                        console.error('Burger or menu element not found!');
                    }
                });
                </script>
            </div>
        </div>
    </header>

    <main class="main">
        <!-- Main details -->
        <div class="container">
            <div class="back-button">
                <a href="index.html" class="back-btn">
                    العودة
                </a>
            </div>

            <div class="restaurant-details">
                <div class="restaurant-header">
                    <!-- إضافة هذين العنصرين -->
                    <span id="placeIcon" class="place-icon">
            <i class="fa-solid fa-utensils" style="color: #fafafa; font-size: 22px;"></i>
        </span>

                    <h1 id="placeName">مكان</h1>
                    <p class="restaurant-subtitle" id="placeSubtitle"> <br>  </p>
                </div>



                <!-- تفاصيل المطاعم و الكافيهات -->
                <div class="restaurant-gallery">
                    <div class="gallery-grid">
                        <div class="gallery-item">
                            <img src="img/restaurants/rest01/gallery1.png" alt="معرض المكان 1" class="gallery-img" id="galleryImage1">
                        </div>
                        <div class="gallery-item">
                            <img src="img/restaurants/rest01/gallery2.jpg" alt="معرض المكان 2" class="gallery-img" id="galleryImage2">
                        </div>
                        <div class="gallery-item">
                            <img src="img/restaurants/rest01/gallery3.png" alt="معرض المكان 3" class="gallery-img" id="galleryImage3">
                        </div>
                        <div class="gallery-item">
                            <img src="img/restaurants/rest01/gallery4.jpg" alt="معرض المكان 4" class="gallery-img" id="galleryImage4">
                        </div>
                    </div>
                </div>
            </div>

            <div class="restaurant-info">
                <div class="info-section">
                    <h3>معلومات أساسية</h3>
                    <div class="info-item">
                        <span class="info-label">الموقع:</span>
                        <span class="info-value" id="placeLocation">أبها</span>
                    </div>
                    <div class="info-item" id="cuisineItem">
                        <span class="info-label">نوع المطبخ:</span>
                        <span class="info-value" id="placeCuisine">عربي</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">الأجواء:</span>
                        <span class="info-value" id="placeAtmosphere">عائلية</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">التقييم:</span>
                        <span class="info-value rating" id="placeRating">★★★★☆</span>
                    </div>


                    <div class="info-item" id="menuItem">
                        <span class="info-label" id="menuLabel">المنيو:</span>
                        <a href="#" class="info-value" id="menuButton" target="_blank">عرض المنيو</a>
                    </div>
                </div>

                <div class="info-section">
                    <h3>أوقات العمل</h3>
                    <div class="info-item">
                        <span class="info-label">السبت - الخميس:</span>
                        <span class="info-value" id="weekdaysHours">12:00 ص - 12:00 م</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">متوسط السعر:</span>
                        <span class="info-value" id="priceRange">50 - 120 ريال</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">الخدمات:</span>
                        <span class="info-value" id="services">توصيل - دين إن - تيك أواي</span>
                    </div>
                </div>


            </div>
        </div>
    </main>

    <!-- Fixed Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">

                <!-- Logo Section -->
                <div class="footer__block">
                    <a href="/" class="footer__logo">
                        <img src="img/spotn-logo-en.png" alt="SpotN Logo" class="footer__logo--img img">
                    </a>

                    <!-- Social Media Section -->
                    <div class="footer-social">
                        <ul class="footer-social__list">
                            <!-- Add your social media links here if needed -->
                        </ul>
                    </div>
                </div>

                <!-- Navigation Section -->
                <div class="footer__block">
                    <nav class="footer-nav">
                        <h3 class="footer-nav__title">روابط سريعة</h3>
                        <ul class="footer-nav__list">
                            <li class="footer-nav__item">
                                <a href="index.html" class="footer-nav__link">المطاعم و الكافيهات</a>
                            </li>
                            <li class="footer-nav__item">
                                <a href="index.html#map" class="footer-nav__link">الخريطة</a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <!-- Contact Section -->
                <div class="footer__block">
                    <nav class="footer-location">
                        <h3 class="footer-location__title">تواصل معنا</h3>
                        <ul class="footer-nav__list">
                            <li class="footer-nav__item">
                                <a href="https://www.google.com/maps/place/%D9%85%D9%84%D8%AD%D8%A9+%D9%84%D9%84%D8%A3%D8%B9%D9%85%D8%A7%D9%84+%D9%88%D8%A7%D8%A8%D8%AA%D9%83%D8%A7%D8%B1%E2%80%AD/@18.2396379,42.5809106,935m/data=!3m2!1e3!4b1!4m6!3m5!1s0x15fcab001cc380cd:0xa52efef5cd2e98da!8m2!3d18.2396379!4d42.5809106!16s%2Fg%2F11x8rkjfzg?entry=ttu&g_ep=EgoyMDI1MDYyMi4wIKXMDSoASAFQAw%3D%3D" class="footer-nav__link" target="_blank">
                                    <img src="img/icon/location.svg" alt="Location" class="footer-location__img" style="filter: brightness(0) saturate(100%) invert(12%) sepia(95%) saturate(3441%) hue-rotate(215deg) brightness(96%) contrast(108%);">
                                    ابها طريق الملك فهد
                                </a>
                            </li>

                            <li class="footer-nav__item">
                                <a href="mailto:spotin.services@gmail.com" class="footer-nav__link">
                                    <img src="img/icon/message.svg" alt="Email" class="footer-location__img" style="filter: brightness(0) saturate(100%) invert(12%) sepia(95%) saturate(3441%) hue-rotate(215deg) brightness(96%) contrast(108%);">
                                    spotin.services@gmail.com
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </footer>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/jquery.inputmask.bundle.min.js"></script>
<script src="js/popup.js"></script>
<script src="js/script.js"></script>
<script src="js/restaurants.js"></script>


<script>
    // Function to get place ID from URL
    function getPlaceIdFromURL() {
        const urlParams = new URLSearchParams(window.location.search);
        const placeId = urlParams.get('id');

        if (placeId) {
            if (placeId.startsWith('rest')) {
                const number = parseInt(placeId.replace('rest', ''));
                return { type: 'restaurant', index: number - 1 };
            } else if (placeId.startsWith('cafe')) {
                const number = parseInt(placeId.replace('cafe', ''));
                return { type: 'cafe', index: number - 1 };
            }
        }
        return { type: 'restaurant', index: 0 };
    }

    // Function to load place details
    function loadPlaceDetails() {
        const placeInfo = getPlaceIdFromURL();
        const isRestaurant = placeInfo.type === 'restaurant';
        const place = isRestaurant ? restaurants[placeInfo.index] : cafes[placeInfo.index];

        if (place) {
            // إضافة الأيقونة والرقم هنا - أضف هذا الكود الجديد
            const placeNumber = document.getElementById('placeNumber');
            const placeIcon = document.getElementById('placeIcon');

            if (placeNumber) {
                placeNumber.textContent = String(placeInfo.index + 1).padStart(2, '0');
                placeNumber.className = 'place-number ' + (isRestaurant ? 'restaurant-number' : 'cafe-number');
            }

            if (placeIcon) {
                if (isRestaurant) {
                    placeIcon.className = 'place-icon resturant-color';
                    placeIcon.innerHTML = '<i class="fa-solid fa-utensils" style="color: #fafafa; font-size: 22px;"></i>';
                } else {
                    placeIcon.className = 'place-icon coffee-color';
                    placeIcon.innerHTML = '<i class="fa-solid fa-mug-hot" style="color: #ffffff; font-size: 22px;"></i>';
                }
            }
            // نهاية الكود الجديد

            // Set basic info
            document.getElementById('placeName').textContent = place.name;
            document.getElementById('placeAtmosphere').textContent = place.atmosphere;
            document.getElementById('placeRating').textContent = place.rating;

            // Update gallery images
            if (place.gallery && place.gallery.length >= 4) {
                const galleryImage1 = document.getElementById('galleryImage1');
                const galleryImage2 = document.getElementById('galleryImage2');
                const galleryImage3 = document.getElementById('galleryImage3');
                const galleryImage4 = document.getElementById('galleryImage4');

                if (galleryImage1) {
                    galleryImage1.src = place.gallery[0];
                    galleryImage1.alt = `${place.name} - معرض الصور 1`;
                }
                if (galleryImage2) {
                    galleryImage2.src = place.gallery[1];
                    galleryImage2.alt = `${place.name} - معرض الصور 2`;
                }
                if (galleryImage3) {
                    galleryImage3.src = place.gallery[2];
                    galleryImage3.alt = `${place.name} - معرض الصور 3`;
                }
                if (galleryImage4) {
                    galleryImage4.src = place.gallery[3];
                    galleryImage4.alt = `${place.name} - معرض الصور 4`;
                }
            }
            // Set location with map link
            const locationElement = document.getElementById('placeLocation');
            locationElement.innerHTML = `<a href="${place.mapUrl}" target="_blank" class="location-link">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 5px; vertical-align: middle;">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                    </svg>
                    ${place.location}
                </a>`;

            // Set menu URL button
            const menuButton = document.getElementById('menuButton');
            if (place.menuUrl) {
                menuButton.href = place.menuUrl;
                menuButton.style.display = 'inline-block';
            } else {
                menuButton.style.display = 'none';
            }

            // Show/hide cuisine for restaurants only
            const cuisineItem = document.getElementById('cuisineItem');
            if (isRestaurant && place.cuisine) {
                document.getElementById('placeCuisine').textContent = place.cuisine;
                cuisineItem.style.visibility = 'visible';
                cuisineItem.style.height = 'auto';
                cuisineItem.style.marginBottom = '15px';
            } else {
                cuisineItem.style.visibility = 'hidden';
                cuisineItem.style.height = '0';
                cuisineItem.style.marginBottom = '0';
                cuisineItem.style.overflow = 'hidden';
            }

            // Set working hours
            document.getElementById('weekdaysHours').textContent = place.workingHours ? place.workingHours.weekdays : 'غير محدد';
            const fridayHoursElement = document.getElementById('fridayHours');
            if (fridayHoursElement) {
                fridayHoursElement.textContent = place.workingHours && place.workingHours.friday ? place.workingHours.friday : place.workingHours.weekdays;
            }

            // Set price range and services
            document.getElementById('priceRange').textContent = place.priceRange || 'غير محدد';
            document.getElementById('services').textContent = place.services || 'غير محدد';

            // Set contact information
            const phoneLink = document.getElementById('phoneLink');
            const emailLink = document.getElementById('emailLink');
            const whatsappLink = document.getElementById('whatsappLink');

            if (place.contact) {
                phoneLink.href = `tel:+${place.contact.phone}`;
                phoneLink.textContent = `+${place.contact.phone}`;

                emailLink.href = `mailto:${place.contact.email}`;
                emailLink.textContent = place.contact.email;

                whatsappLink.href = `https://wa.me/${place.contact.whatsapp}`;
                whatsappLink.textContent = 'واتساب';
            }

            // Set appropriate subtitle and menu button text
            const subtitle = document.getElementById('placeSubtitle');
            const menuLabel = document.getElementById('menuLabel');

            if (isRestaurant) {
                menuLabel.textContent = 'المنيو:';
                menuButton.textContent = 'عرض قائمة الطعام';
            } else {
                menuLabel.textContent = 'قائمة المشروبات:';
                menuButton.textContent = 'عرض قائمة المشروبات';
            }

            // Set page title
            document.title = `${place.name} - SpotN`;

            console.log('تم تحميل بيانات المكان:', place.name);
            console.log('أوقات العمل:', place.workingHours);
            console.log('متوسط السعر:', place.priceRange);
            console.log('الخدمات:', place.services);
            console.log('معلومات التواصل:', place.contact);
        } else {
            console.error('لم يتم العثور على المكان');
        }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
        console.log('تحميل صفحة التفاصيل...');
        loadPlaceDetails();
    });
</script>
</body>
</html>
